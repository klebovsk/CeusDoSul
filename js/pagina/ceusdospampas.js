var arrTexto = [
    'A constelação do Veado fica na região do céu limitada pelas constelações ocidentais Vela (Vela) e Crux (Cruzeiro do Sul). Ela é formada utilizando também estrelas das constelações Carina (Carina) e Centaurus (Centauro). Esta constelação é conhecida principalmente pelas etnias de indígenas brasileiros que habitam na região sul do Brasil, visto que, para as etnias da região norte, ela fica muito próxima da linha do horizonte. Na segunda quinzena de março, o Veado surge ao anoitecer, no lado Leste, indicando uma estação de transição entre o calor e o frio para os habitantes do sul do Brasil e entre a chuva e a seca para os do norte do Brasil.',
    'As Plêiades são um aglomerado aberto de estrelas jovens, azuis, da Via Láctea. A olho nu, podemos ver sete dessas estrelas, também conhecidas como as sete irmãs. Diversas etnias indígenas utilizavam as Plêiades para construir seu calendário. Em Guarani, são chamadas de Eixu, que significa "ninho de abelhas" ou "vespeiro", e assim como em outras etnias, elas também marcam o início do ano quando surgem pela primeira vez no lado leste, antes do nascer do Sol (nascer helíaco das Plêiades). Em várias regiões da África, são as Plêiades que marcam o calendário agrícola. Os Bantos, por exemplo, veem as Plêiades na forma de um arado e as chamam de Kilimiaque, derivado do verbo kulima, que significa “cultivar a terra”.',
    'A constelação do Homem Velho é formada pelas constelações ocidentais do Touro e de Órion. A cabeça do Homem Velho é formada pelas estrelas do aglomerado estelar Híades, em cuja direção se encontra Aldebaran, a estrela mais brilhante da constelação de Touro, com uma cor avermelhada. Acima da cabeça do Homem Velho, fica o aglomerado estelar das Plêiades, simbolizando um penacho que ele tem amarrado à cabeça.A estrela Bellatrix fica na virilha do Homem Velho, enquanto a estrela vermelha Betelgeuse representa o lugar onde sua perna foi cortada. O Cinturão de Órion, formado pelas estrelas Mintaka, Alnilam e Alnitak, representa o joelho da perna sadia, e a estrela Saiph representa o pé. O braço esquerdo do Homem Velho é constituído por estrelas do escudo de Órion, enquanto em sua mão direita ele segura um bastão para se equilibrar. Os Guarani contam que este era um homem casado com uma mulher muito mais jovem do que ele. A esposa ficou interessada no irmão mais novo do marido e, para ficar com o cunhado, matou o marido, cortando-lhe a perna na altura do joelho direito. Os deuses ficaram com pena do marido e o colocaram no céu.',
    'A constelação da Ema (Rhea americana alba) se localiza numa região do céu limitada pelo Cruzeiro do Sul e Escorpião. Sua cabeça é formada pelo Saco de Carvão, uma nebulosa escura próxima à estrela Magalhães. A Ema tenta devorar dois ovos de pássaro que ficam perto de seu bico, representados pelas estrelas alfa Muscae e beta Muscae. As estrelas alfa Centauro e beta Centauro estão dentro do pescoço da Ema, representando dois ovos grandes que a Ema acabou de engolir. Uma das pernas da Ema é formada pelas estrelas da cauda de Escorpião. As manchas claras e escuras da Via Láctea ajudam a visualizar a plumagem da Ema. Na segunda quinzena de junho, quando a Ema (Guyra Nhandu) surge em sua totalidade ao anoitecer, no lado leste, indica o início do inverno para os indígenas do sul do Brasil e o início da estação seca para os do norte.',
    'A constelação da Anta do Norte é conhecida principalmente pelas etnias indígenas brasileiras que habitam a região norte do Brasil, pois para as etnias da região sul, ela fica muito próxima da linha do horizonte. Ela está totalmente localizada na Via Láctea. Existem outras constelações representando uma Anta (Tapi’i, em guarani) na Via Láctea, por isso chamamos essa constelação de Anta do Norte. A Via Láctea é chamada de Caminho da Anta devido, principalmente, à constelação da Anta do Norte. Na segunda quinzena de setembro, a Anta do Norte surge ao anoitecer, no lado Leste, indicando uma estação de transição entre o frio e o calor para os indígenas do sul do Brasil e entre a seca e a chuva para os índios do norte do Brasil.',
];

var conteudoSaibaMais = [
    /* { icone: 'play', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: 'internet', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: 'play', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: '', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' },
    { icone: 'play', link: '', titulo: 'As Constelações Indígenas Brasileiras Germano Bruno Afonso' }, */

    { icone: 'book', titulo: 'As Constelações Indígenas Brasileiras - Germano Bruno Afonso.', link: 'http://www.telescopiosnaescola.pro.br/indigenas.pdf' },
{ icone: 'internet', titulo: 'Constelações indígenas: o céu Tupi-Guarani', link: 'https://www.invivo.fiocruz.br/cienciaetecnologia/ceu-tupi-guarani/' },
{ icone: 'internet', titulo: 'Mitos e Estações no céu Tupi-Guarani', link: 'https://revistacienciaecultura.org.br/?artigos=mitos-e-estacoes-no-ceu-tupi-guarani' },
{ icone: 'book', titulo: 'A complexidade do conceito de constelação astronômica: povos indígenas do noroeste amazônico', link: 'https://revistas.hcte.ufrj.br/index.php/RevistaSH/article/view/323' },
{ icone: 'book', titulo: 'Os peixes e a jararaca do anus grande', link: 'https://sejabemvinho.blogspot.com/2009/10/os-peixes-e-jararaca-do-anus-grande.html' },
{ icone: 'book', titulo: 'A importância da Astronomia na História da Humanidade', link: 'https://aerojr.com/blog/importancia-da-astronomia/' },
{ icone: 'book', titulo: 'Astronomia cultural: análise de materiais e caminhos para a diversidade nas aulas de ciências da natureza.', link: 'https://www.scielo.br/j/epec/a/BW7K3VQ8jFzQ43VJdqh7ZwQ/#' },
{ icone: 'book', titulo: 'Contribuições da astronomia indígena brasileira para o conhecimento.', link: 'https://www.ipen.br/biblioteca/cd/sbpc/2003/textos/Germano%20Afonso.htm' },
{ icone: 'book', titulo: 'Toca do Cosmo: um observatório pré-Cabralino.', link: 'https://acervoastronomico.org/acervo/ASTRONOMOS/Mourao/1984/JB_1984-10-14_p13-24.pdf.' },
{ icone: 'book', titulo: 'Calendário Cosmológico: Os símbolos e as principais constelações na visão Guarani', link: 'https://licenciaturaindigena.paginas.ufsc.br/files/2015/04/Geraldo-Moreira-e-Wanderlei-Cardoso-Moreira.pdf' },
{ icone: 'book', titulo: 'JAXY E JAXY JATERÊ: O ponto de vista Guarani e de outros povos Ameríndios sobre a origem da lua, as constelações e o Saci-Pererê (PRIMEIRA PARTE)', link: 'https://seer.ufrgs.br/EspacoAmerindio/article/download/122910/84822' },
{ icone: 'book', titulo: 'Coleção Culturas Estelares: leituras do céu', link: 'https://www.museudavida.fiocruz.br/index.php/noticias/31-visitamos-voce/1899-colecao-culturas-estelares-leituras-do-ceu' },
{ icone: 'book', titulo: 'Astro-Antropo-Lógicas, Oriki das Materiasi (in)visíveis, Alan Alves Brito', link: 'https://www.if.ufrgs.br/~aabrito/files/astro_antropo_logicas.pdf' },
{ icone: 'book', titulo: ' Bará, Corpos-Territórios em R(existência), Alan Alves Brito', link: 'https://www.if.ufrgs.br/~aabrito/files/bara.pdf' },
{ icone: 'book', titulo: 'Através das águas: os bantu na formação do Brasil', link: 'https://www.livrosabertos.abcd.usp.br/portaldelivrosUSP/catalog/view/1189/1087/4090' },
{ icone: 'book', titulo: 'Tenda de Umbanda Oca de Tupã do Caboclo Tuano', link: 'https://www.livrosabertos.abcd.usp.br/portaldelivrosUSP/catalog/book/1225' },
{ icone: 'book', titulo: ' Desafios Estruturais e Pedagógicos da Educação Escolar Quilombola para a promoção da Equidade Racial no Brasil do Século 21', link: 'https://www.ufrgs.br/zumbidandara/material-pedagogico/' },
{ icone: 'play', titulo: 'Programa Interculturalidades', link: 'https://www.youtube.com/playlist?list=PL-__C9Xt-Ygzgv4XOcybVaM6Ib-RqsbZx' },
]



$(document).ready(() => {
    $(".open-popup").click(function () {
        const localizacaoImagem = $('#imagem_sectionObservador_localizacao').offset();
        const localizacaoImagem_top = localizacaoImagem?.top ? localizacaoImagem?.top : 0;

        const _this = $(this)
        const coordenadas = _this.attr('coords')
        const arrCordenadas = coordenadas.split(',');

        let top = localizacaoImagem_top + parseInt(arrCordenadas[1], 10);
        let left = parseInt(arrCordenadas[0], 10);

        if (left > 950) {
            left = left - 250;
        }



        const idConteudo = _this.attr('conteudo')
        const conteudo = arrTexto[idConteudo] ? arrTexto[idConteudo] : ''

        // Cria o elemento de popup
        var popup = $("<div class='popup'><div class='popup-content'>" +
            "<span class='close'>&times;</span>" +
            "<p>" + conteudo + "</p>" +
            "</div></div>");

        // Calcula a posição do botão clicado
        var buttonPosition = $(this).offset();
        console.log(buttonPosition)

        // Ajusta a posição do popup
        popup.css({
            top: top,
            left: left
        });

        // Adiciona o popup à página
        $("body").append(popup);

        // Exibe o popup
        popup.fadeIn();

        // Quando o botão de fechar é clicado
        popup.find(".close").click(function () {
            popup.fadeOut(function () {
                $(this).remove();
            });
        });

        // Também fecha o popup se o usuário clicar fora dele
        $(document).mouseup(function (e) {
            if (!popup.is(e.target) && popup.has(e.target).length === 0) {
                popup.fadeOut(function () {
                    $(this).remove();
                });
            }
        });
    });


    $(".open-popup2").click(function () {
        const localizacaoImagem = $('#imagem_sectionObservador_localizacao2').offset();
        const localizacaoImagem_top = localizacaoImagem?.top ? localizacaoImagem?.top : 0;

        const _this = $(this)
        const coordenadas = _this.attr('coords')
        const arrCordenadas = coordenadas.split(',');

        let top = localizacaoImagem_top + parseInt(arrCordenadas[1], 10);
        let left = parseInt(arrCordenadas[0], 10);

        if (left > 950) {
            left = left - 250;
        }



        const idConteudo = _this.attr('conteudo')
        const conteudo = arrTexto[idConteudo] ? arrTexto[idConteudo] : ''

        // Cria o elemento de popup
        var popup = $("<div class='popup'><div class='popup-content'>" +
            "<span class='close'>&times;</span>" +
            "<p>" + conteudo + "</p>" +
            "</div></div>");

        // Calcula a posição do botão clicado
        var buttonPosition = $(this).offset();
        console.log(buttonPosition)

        // Ajusta a posição do popup
        popup.css({
            top: top,
            left: left
        });

        // Adiciona o popup à página
        $("body").append(popup);

        // Exibe o popup
        popup.fadeIn();

        // Quando o botão de fechar é clicado
        popup.find(".close").click(function () {
            popup.fadeOut(function () {
                $(this).remove();
            });
        });

        // Também fecha o popup se o usuário clicar fora dele
        $(document).mouseup(function (e) {
            if (!popup.is(e.target) && popup.has(e.target).length === 0) {
                popup.fadeOut(function () {
                    $(this).remove();
                });
            }
        });
    });

    gerarSaibaMais();
})


const gerarSaibaMais = () => {
    let htmlSaibaMais = ''
    conteudoSaibaMais.forEach(item => {
        let link = item?.link ? item?.link : '';
        let icone = item?.icone ? item?.icone : 'book';
        const pathIcone = `imagens_page/paginas/ceu_dos_pampas/${icone}.png`

        htmlSaibaMais += `<div class="col-md-4">
                            <div class="linkSaibaMais">
                                <div>
                                    <img src="${pathIcone}" alt="">
                                </div>
                                <div class="titulo">
                                    <a href="${link}" target="_blank">${item?.titulo} </a>
                                </div>
                            </div>
                        </div>`;
    })

    $(".conteudoLinksSaibaMais").html(htmlSaibaMais)
}
